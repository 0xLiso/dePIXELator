;;; Segment 2504 (2504:0000)
2504:0000 CB                                              .              
2476:08E1    B8 BA 28 8E C0 26 F7 06 86 85 01 00 74 1B B8  ..(..&......t..
2476:08F0 BA 28 8E C0 66 26 83 3E 7E A1 09 7E 0D 66 6A 00 .(..f&.>~..~.fj.
2476:0900 6A CE 9A BA 00 31 23 83 C4 06 CB B8 BA 28 8E C0 j....1#......(..
2476:0910 26 F7 06 86 85 01 00 74 0D 66 6A 00 6A CD 9A BA &......t.fj.j...
2476:0920 00 31 23 83 C4 06 CB C8 04 00 00 B8 BA 28 8E C0 .1#..........(..
2476:0930 26 C4 1E 30 30 26 8B 47 18 89 46 FE B8 BA 28 8E &..00&.G..F...(.
2476:0940 C0 26 F7 06 86 85 01 00 75 03 E9 E8 01 8B 5E FE .&......u.....^.
2476:0950 80 BF 5A A8 00 74 22 8A 87 5A A8 B4 00 66 0F BF ..Z..t"..Z...f..
2476:0960 C0 BA BA 28 8E C2 66 26 01 06 7E A1 C6 87 5A A8 ...(..f&..~...Z.
2476:0970 00 66 6A 00 6A 07 E9 B4 01 8B 5E FE 80 BF 64 A8 .fj.j.....^...d.
2476:0980 00 74 72 D1 E3 8B 87 6E A8 25 03 00 89 46 FC 3D .tr....n.%...F.=
2476:0990 01 00 74 0C 3D 02 00 74 1C 3D 03 00 74 2C EB 3D ..t.=..t.=..t,.=
2476:09A0 8B 5E FE 8A 87 64 A8 B4 00 BA BA 28 8E C2 26 01 .^...d.....(..&.
2476:09B0 06 36 30 EB 28 8B 5E FE 8A 87 64 A8 B4 00 BA BA .60.(.^...d.....
2476:09C0 28 8E C2 26 01 06 3F 30 EB 13 8B 5E FE 8A 87 64 (..&..?0...^...d
2476:09D0 A8 B4 00 BA BA 28 8E C2 26 01 06 48 30 8B 5E FE .....(..&..H0.^.
2476:09E0 C6 87 64 A8 00 D1 E3 81 A7 6E A8 FC 00 66 6A 00 ..d......n...fj.
2476:09F0 6A C8 E9 38 01 8B 5E FE D1 E3 83 BF 6E A8 00 75 j..8..^.....n..u
2476:0A00 03 E9 31 01 8B 5E FE D1 E3 F7 87 6E A8 04 00 74 ..1..^.....n...t
2476:0A10 38 68 BA 28 68 EE 87 9A 55 00 F8 23 83 C4 04 8B 8h.(h...U..#....
2476:0A20 5E FE D1 E3 83 A7 6E A8 FB B8 BA 28 8E C0 26 83 ^.....n....(..&.
2476:0A30 0E 20 A5 08 66 6A 00 6A 16 9A BA 00 31 23 83 C4 . ..fj.j....1#..
2476:0A40 06 66 6A 00 6A C9 E9 E4 00 8B 5E FE D1 E3 F7 87 .fj.j.....^.....
2476:0A50 6E A8 08 00 74 38 68 BA 28 68 AC 87 9A 55 00 F8 n...t8h.(h...U..
2476:0A60 23 83 C4 04 8B 5E FE D1 E3 83 A7 6E A8 F7 B8 BA #....^.....n....
2476:0A70 28 8E C0 26 83 0E 20 A5 04 66 6A 00 6A 16 9A BA (..&.. ..fj.j...
2476:0A80 00 31 23 83 C4 06 66 6A 00 6A CA E9 9F 00 8B 5E .1#...fj.j.....^
2476:0A90 FE D1 E3 F7 87 6E A8 80 00 74 38 68 BA 28 68 04 .....n...t8h.(h.
2476:0AA0 88 9A 55 00 F8 23 83 C4 04 8B 5E FE D1 E3 81 A7 ..U..#....^.....
2476:0AB0 6E A8 7F FF B8 BA 28 8E C0 26 83 0E 20 A5 10 66 n.....(..&.. ..f
2476:0AC0 6A 00 6A 16 9A BA 00 31 23 83 C4 06 66 6A 00 6A j.j....1#...fj.j
2476:0AD0 CB EB 5A 8B 5E FE D1 E3 83 BF 6E A8 00 74 56 68 ..Z.^.....n..tVh
2476:0AE0 BA 28 68 30 88 9A 55 00 F8 23 83 C4 04 8B 5E FE .(h0..U..#....^.
2476:0AF0 D1 E3 F7 87 6E A8 F0 00 74 16 B8 BA 28 8E C0 26 ....n...t...(..&
2476:0B00 FF 06 8C A1 B8 BA 28 8E C0 26 81 0E 20 A5 00 01 ......(..&.. ...
2476:0B10 8B 5E FE D1 E3 C7 87 6E A8 00 00 66 6A 00 6A 16 .^.....n...fj.j.
2476:0B20 9A BA 00 31 23 83 C4 06 66 6A 00 6A CC 9A BA 00 ...1#...fj.j....
2476:0B30 31 23 83 C4 06 C9 CB C8 02 00 00 C7 46 FE 00 00 1#..........F...
2476:0B40 EB 19 8B 5E FE D1 E3 33 C0 89 87 6E A8 8B 5E FE ...^...3...n..^.
2476:0B50 88 87 64 A8 88 87 5A A8 FF 46 FE 83 7E FE 0A 7C ..d...Z..F..~..|
2476:0B60 E1 C9 CB                                        ...            

;; fn2504_0283: 2504:0283
;;   Called from:
;;     2353:0267 (in fn2353_0004)
fn2504_0283 proc
	enter	2h,0h
	mov	ax,28BAh
	mov	es,ax
	mov	ax,es:[8586h]
	mov	[bp-2h],ax
	mov	cx,7h
	mov	bx,356h

l2504_0299:
	mov	ax,cs:[bx]
	cmp	ax,[bp-2h]
	jz	02A9h

l2504_02A1:
	add	bx,2h
	loop	0299h

l2504_02A6:
	jmp	0354h

l2504_02A9:
	jmp	word ptr cs:[bx+0Eh]
2504:02AD                                        B8 BA 28              ..(
2504:02B0 8E C0 26 C4 1E 30 30 26 C7 47 0A BA 28 26 C7 47 ..&..00&.G..(&.G
2504:02C0 08 CC 87 E9 8E 00 B8 BA 28 8E C0 26 C4 1E 30 30 ........(..&..00
2504:02D0 26 C7 47 0A BA 28 26 C7 47 08 FA A8 EB 76 B8 BA &.G..(&.G....v..
2504:02E0 28 8E C0 26 C4 1E 30 30 26 C7 47 0A BA 28 26 C7 (..&..00&.G..(&.
2504:02F0 47 08 DA A8 EB 5E B8 BA 28 8E C0 26 C4 1E 30 30 G....^..(..&..00
2504:0300 26 C7 47 0A BA 28 26 C7 47 08 D6 A8 EB 46 B8 BA &.G..(&.G....F..
2504:0310 28 8E C0 26 C4 1E 30 30 26 C7 47 0A BA 28 26 C7 (..&..00&.G..(&.
2504:0320 47 08 0E 88 EB 2E B8 BA 28 8E C0 26 C4 1E 30 30 G.......(..&..00
2504:0330 26 C7 47 0A BA 28 26 C7 47 08 24 88 EB 16 B8 BA &.G..(&.G.$.....
2504:0340 28 8E C0 26 C4 1E 30 30 26 C7 47 0A BA 28 26 C7 (..&..00&.G..(&.
2504:0350 47 08 3A 88                                     G.:.           

l2504_0354:
	leave
	retf
2504:0356                   01 00 02 00 04 00 08 00 10 00       ..........
2504:0360 20 00 00 01 AD 02 C6 02 F6 02 DE 02 0E 03 26 03  .............&.
2504:0370 3E 03 66 6A 00 B8 BA 28 8E C0 26 C4 1E 30 30 26 >.fj...(..&..00&
2504:0380 8A 47 18 50 9A BA 00 31 23 83 C4 06 CB C8 5A 00 .G.P...1#.....Z.
2504:0390 00 B8 BA 28 8E C0 66 26 A1 7E A1 66 89 46 FC 66 ...(..f&.~.f.F.f
2504:03A0 C7 46 F8 B0 01 00 00 FA 9A E8 01 25 24 FB B8 BA .F.........%$...
2504:03B0 28 8E C0 66 26 C7 06 2C 30 00 00 00 00 B8 62 28 (..f&..,0.....b(
2504:03C0 8E C0 26 80 0E 00 00 20 0E E8 8B FE 16 8D 46 F8 ..&.... ......F.
2504:03D0 50 1E 68 50 89 16 8D 46 EC 50 1E 68 44 89 9A 3E P.hP...F.P.hD..>
2504:03E0 03 3F 26 83 C4 10 16 8D 46 F8 50 1E 68 68 89 16 .?&.....F.P.hh..
2504:03F0 8D 46 F0 50 1E 68 5E 89 9A 3E 03 3F 26 83 C4 10 .F.P.h^..>.?&...
2504:0400 16 8D 46 F8 50 1E 68 7F 89 16 8D 46 F4 50 1E 68 ..F.P.h....F.P.h
2504:0410 74 89 9A 3E 03 3F 26 83 C4 10 8B 46 EC 05 02 00 t..>.?&....F....
2504:0420 FF 76 EE 50 C4 5E EC 26 8A 47 01 B4 00 50 26 8A .v.P.^.&.G...P&.
2504:0430 07 B4 00 50 9A 3B 04 76 24 83 C4 08 68 BA 28 68 ...P.;.v$...h.(h
2504:0440 EA 26 9A AE 02 10 1D 83 C4 04 8D 46 F0 8C 16 8E .&.........F....
2504:0450 88 A3 8C 88 8D 46 C6 16 50 1E 68 84 88 B9 20 00 .....F..P.h... .
2504:0460 9A F4 03 00 08 8D 46 F4 8C 16 AE 88 A3 AC 88 8D ......F.........
2504:0470 46 C6 8C 16 C2 88 A3 C0 88 8D 46 A6 16 50 1E 68 F.........F..P.h
2504:0480 A4 88 B9 20 00 9A F4 03 00 08 B8 62 28 8E C0 26 ... .......b(..&
2504:0490 F6 06 00 00 02 74 0C 66 6A 00 6A 01 16 8D 46 A6 .....t.fj.j...F.
2504:04A0 50 EB 08 66 6A 00 6A 01 66 6A 00 6A 01 6A 01 6A P..fj.j.fj.j.j.j
2504:04B0 01 6A 01 6A 01 9A 04 00 53 23 83 C4 14 FA 9A 86 .j.j....S#......
2504:04C0 02 25 24 FB 9A 67 01 31 23 89 56 EA 89 46 E8 66 .%$..g.1#.V..F.f
2504:04D0 83 7E E8 00 75 03 E9 1F 01 C4 5E E8 26 8A 07 B4 .~..u.....^.&...
2504:04E0 00 89 46 E6 B9 08 00 BB 65 06 2E 8B 07 3B 46 E6 ..F.....e....;F.
2504:04F0 74 08 83 C3 02 E2 F3 E9 FE 00 2E FF 67 10 66 6A t...........g.fj
2504:0500 00 6A 04 9A BA 00 31 23 83 C4 06 E9 13 01 66 6A .j....1#......fj
2504:0510 00 6A 05 9A BA 00 31 23 83 C4 06 66 6A 00 6A 03 .j....1#...fj.j.
2504:0520 EB E1 66 6A 00 6A 05 EB DA B8 62 28 8E C0 26 80 ..fj.j....b(..&.
2504:0530 3E 00 00 01 74 03 E9 BF 00 66 6A 00 6A 10 EB C3 >...t....fj.j...
2504:0540 9A A0 00 F8 23 B8 62 28 8E C0 26 F6 06 00 00 02 ....#.b(..&.....
2504:0550 74 0C 66 6A 00 6A 01 16 8D 46 A6 50 EB 08 66 6A t.fj.j...F.P..fj
2504:0560 00 6A 01 66 6A 00 6A 01 6A 01 6A 01 6A 01 6A 01 .j.fj.j.j.j.j.j.
2504:0570 9A 04 00 53 23 83 C4 14 9A F9 00 6D 22 B8 62 28 ...S#......m".b(
2504:0580 8E C0 26 F6 06 00 00 02 74 54 66 6A 00 6A 01 16 ..&.....tTfj.j..
2504:0590 8D 46 A6 50 EB 50 EB 46 9A 92 0A 7F 1A 68 BA 28 .F.P.P.F.....h.(
2504:05A0 68 EA 26 9A AE 02 10 1D 83 C4 04 B8 62 28 8E C0 h.&.........b(..
2504:05B0 26 F6 06 00 00 02 74 26 EB D0 EB 22 9A 39 06 25 &.....t&...".9.%
2504:05C0 27 68 BA 28 68 EA 26 9A AE 02 10 1D 83 C4 04 B8 'h.(h.&.........
2504:05D0 62 28 8E C0 26 F6 06 00 00 02 74 02 EB AC 66 6A b(..&.....t...fj
2504:05E0 00 6A 01 66 6A 00 6A 01 6A 01 6A 01 6A 01 6A 01 .j.fj.j.j.j.j.j.
2504:05F0 9A 04 00 53 23 83 C4 14 B8 BA 28 8E C0 66 26 A1 ...S#.....(..f&.
2504:0600 7E A1 66 3B 46 FC 75 03 E9 B9 FE B8 BA 28 8E C0 ~.f;F.u......(..
2504:0610 66 26 A1 7E A1 66 89 46 FC 9A 7F 05 6D 22 E9 A3 f&.~.f.F....m"..
2504:0620 FE B8 62 28 8E C0 26 80 26 00 00 DF B8 BA 28 8E ..b(..&.&.....(.
2504:0630 C0 66 26 C7 06 2C 30 00 00 00 00 66 FF 76 F0 9A .f&..,0....f.v..
2504:0640 24 1C 00 08 83 C4 04 66 FF 76 F4 9A 24 1C 00 08 $......f.v..$...
2504:0650 83 C4 04 66 FF 76 EC 9A 24 1C 00 08 83 C4 04 33 ...f.v..$......3
2504:0660 D2 33 C0 C9 CB 03 00 04 00 05 00 10 00 15 00 16 .3..............
2504:0670 00 C8 00 C9 00 0E 05 FE 04 22 05 29 05 78 05 40 .........".).x.@
2504:0680 05 98 05 BC 05 66 6A 00 6A 12 9A BA 00 31 23 83 .....fj.j....1#.
2504:0690 C4 06 CB C8 26 00 00 B8 62 28 8E C0 26 A0 00 00 ....&...b(..&...
2504:06A0 88 46 FB FA 9A E8 01 25 24 B8 BA 28 8E C0 66 26 .F.....%$..(..f&
2504:06B0 C7 06 2C 30 00 00 00 00 FB B8 62 28 8E C0 26 80 ..,0......b(..&.
2504:06C0 0E 00 00 20 8D 46 DA 16 50 1E 68 C4 88 B9 20 00 ... .F..P.h... .
2504:06D0 9A F4 03 00 08 68 BA 28 68 2C 27 9A AE 02 10 1D .....h.(h,'.....
2504:06E0 83 C4 04 B8 62 28 8E C0 26 F6 06 00 00 02 74 0C ....b(..&.....t.
2504:06F0 66 6A 00 6A 00 16 8D 46 DA 50 EB 08 66 6A 00 6A fj.j...F.P..fj.j
2504:0700 00 66 6A 00 6A 01 6A 01 6A 01 6A 01 6A 01 9A 04 .fj.j.j.j.j.j...
2504:0710 00 53 23 83 C4 14 FA 9A 86 02 25 24 FB 9A 67 01 .S#.......%$..g.
2504:0720 31 23 89 56 FE 89 46 FC C4 5E FC 26 8A 07 B4 00 1#.V..F..^.&....
2504:0730 2D 03 00 8B D8 83 FB 12 77 E3 D1 E3 2E FF A7 C4 -.......w.......
2504:0740 07 66 6A 00 6A 04 9A BA 00 31 23 83 C4 06 EB 4B .fj.j....1#....K
2504:0750 66 6A 00 6A 05 EB EF 6A 00 9A 01 00 2B 0F 59 EB fj.j...j....+.Y.
2504:0760 BC 9A F9 00 6D 22 B8 62 28 8E C0 26 F6 06 00 00 ....m".b(..&....
2504:0770 02 74 0C 66 6A 00 6A 00 16 8D 46 DA 50 EB 08 66 .t.fj.j...F.P..f
2504:0780 6A 00 6A 00 66 6A 00 6A 01 6A 01 6A 01 6A 01 6A j.j.fj.j.j.j.j.j
2504:0790 01 9A 04 00 53 23 83 C4 14 EB 82 B8 62 28 8A 56 ....S#......b(.V
2504:07A0 FB 8E C0 26 88 16 00 00 FA 9A E8 01 25 24 FB B8 ...&........%$..
2504:07B0 BA 28 8E C0 66 26 C7 06 2C 30 00 00 00 00 33 D2 .(..f&..,0....3.
2504:07C0 33 C0 C9 CB 50 07 41 07 50 07 1D 07 1D 07 1D 07 3...P.A.P.......
2504:07D0 1D 07 1D 07 1D 07 1D 07 1D 07 1D 07 1D 07 9B 07 ................
2504:07E0 1D 07 57 07 1D 07 1D 07 61 07 66 6A 00 6A 06 9A ..W.....a.fj.j..
2504:07F0 BA 00 31 23 83 C4 06 CB C8 26 00 00 B8 62 28 8E ..1#.....&...b(.
2504:0800 C0 26 A0 00 00 88 46 FB FA 9A E8 01 25 24 FB 9A .&....F.....%$..
2504:0810 67 01 31 23 0B C2 75 F7 B8 62 28 8E C0 26 80 0E g.1#..u..b(..&..
2504:0820 00 00 20 68 BA 28 68 0B 27 9A AE 02 10 1D 83 C4 .. h.(h.'.......
2504:0830 04 8D 46 DA 16 50 1E 68 E4 88 B9 20 00 9A F4 03 ..F..P.h... ....
2504:0840 00 08 66 6A 00 6A 01 16 8D 46 DA 50 6A 01 6A 01 ..fj.j...F.Pj.j.
2504:0850 6A 01 6A 01 6A 01 9A 04 00 53 23 83 C4 14 FA 9A j.j.j....S#.....
2504:0860 86 02 25 24 FB 9A 67 01 31 23 89 56 FE 89 46 FC ..%$..g.1#.V..F.
2504:0870 0B C2 74 F1 C4 5E FC 26 8A 07 B4 00 2D 03 00 8B ..t..^.&....-...
2504:0880 D8 83 FB 13 77 DF D1 E3 2E FF A7 25 09 66 6A 00 ....w......%.fj.
2504:0890 6A 04 9A BA 00 31 23 83 C4 06 EB 60 EB 24 B8 62 j....1#....`.$.b
2504:08A0 28 8A 56 FB 8E C0 26 88 16 00 00 B8 BA 28 8E C0 (.V...&......(..
2504:08B0 66 26 C7 06 2C 30 00 00 00 00 BA BA 28 B8 C2 6D f&..,0......(..m
2504:08C0 EB 61 66 6A 00 6A 05 EB C9 66 6A 00 6A 10 EB C2 .afj.j...fj.j...
2504:08D0 9A F9 00 6D 22 66 6A 00 6A 01 16 8D 46 DA 50 6A ...m"fj.j...F.Pj
2504:08E0 01 6A 01 6A 01 6A 01 6A 01 9A 04 00 53 23 83 C4 .j.j.j.j....S#..
2504:08F0 14 E9 71 FF 9A A0 00 F8 23 E9 69 FF B8 62 28 8A ..q.....#.i..b(.
2504:0900 56 FB 8E C0 26 88 16 00 00 FA 9A E8 01 25 24 FB V...&........%$.
2504:0910 B8 BA 28 8E C0 66 26 C7 06 2C 30 00 00 00 00 33 ..(..f&..,0....3
2504:0920 D2 33 C0 C9 CB 9C 08 8D 08 C2 08 9E 08 65 08 65 .3...........e.e
2504:0930 08 65 08 65 08 65 08 65 08 65 08 65 08 65 08 C9 .e.e.e.e.e.e.e..
2504:0940 08 65 08 65 08 65 08 65 08 D0 08 F4 08          .e.e.e.e.....  

;; fn2504_094D: 2504:094D
;;   Called from:
;;     1F0F:0D30 (in fn1F0F_0BF7)
;;     1F0F:0DAB (in fn1F0F_0BF7)
;;     1F0F:0E34 (in fn1F0F_0BF7)
;;     1F0F:0E97 (in fn1F0F_0BF7)
;;     1F0F:0F20 (in fn1F0F_0BF7)
;;     1F0F:0F83 (in fn1F0F_0BF7)
;;     1F0F:1001 (in fn1F0F_0BF7)
fn2504_094D proc
	enter	5Eh,0h
	mov	ax,28BAh
	mov	es,ax
	mov	eax,es:[0A882h]
	mov	[bp-8h],eax
	mov	word ptr [bp-0Eh],0h
	jmp	0A09h

l2504_0967:
	push	8001h
	push	dword ptr [bp+0Ah]
	call	far 0800h:3615h
	add	sp,6h
	mov	[bp-2h],ax
	cmp	word ptr [bp-2h],0FFh
	jnz	098Bh

l2504_097F:
	push	dword ptr [bp+0Ah]
	call	far 263Fh:03F3h
	add	sp,4h

l2504_098B:
	push	word ptr [bp-2h]
	call	far 0800h:2DD1h
	pop	cx
	mov	[bp-4h],ax
	push	ax
	push	dword ptr [bp-8h]
	push	word ptr [bp-2h]
	call	far 0800h:3C87h
	add	sp,8h
	mov	bx,[bp-0Eh]
	shl	bx,2h
	lea	ax,[bp-5Eh]
	add	bx,ax
	mov	ax,[bp-6h]
	mov	dx,[bp-8h]
	mov	ss:[bx+2h],ax
	mov	ss:[bx],dx
	mov	ax,[bp-4h]
	add	[bp-8h],ax
	push	word ptr [bp-2h]
	call	far 0800h:2A93h
	pop	cx
	les	bx,[bp+0Ah]
	add	bx,[bp+10h]
	mov	al,es:[bx]
	inc	al
	mov	bx,[bp+0Ah]
	add	bx,[bp+10h]
	mov	es:[bx],al
	cmp	al,39h
	jle	0A06h

l2504_09E6:
	mov	bx,[bp+0Ah]
	add	bx,[bp+10h]
	mov	byte ptr es:[bx],30h
	mov	bx,[bp+10h]
	add	bx,[bp+0Ah]
	mov	al,es:[bx-1h]
	inc	al
	mov	bx,[bp+10h]
	add	bx,[bp+0Ah]
	mov	es:[bx-1h],al

l2504_0A06:
	inc	word ptr [bp-0Eh]

l2504_0A09:
	mov	ax,[bp-0Eh]
	cmp	ax,[bp+0Eh]
	jge	0A14h

l2504_0A11:
	jmp	0967h

l2504_0A14:
	cli
	call	far 2425h:01E8h
	sti
	mov	word ptr [bp-0Eh],0h
	jmp	0B10h

l2504_0A23:
	cmp	word ptr [bp+6h],7Ch
	jge	0A2Eh

l2504_0A29:
	mov	ax,[bp+6h]
	jmp	0A42h

l2504_0A2E:
	mov	bx,[bp-0Eh]
	shl	bx,2h
	lea	ax,[bp-5Eh]
	add	bx,ax
	les	bx,ss:[bx]
	mov	ax,[bp+6h]
	sub	ax,es:[bx]

l2504_0A42:
	mov	[bp-0Ah],ax
	cmp	word ptr [bp+8h],50h
	jge	0A50h

l2504_0A4B:
	mov	ax,[bp+8h]
	jmp	0A65h

l2504_0A50:
	mov	bx,[bp-0Eh]
	shl	bx,2h
	lea	ax,[bp-5Eh]
	add	bx,ax
	les	bx,ss:[bx]
	mov	ax,[bp+8h]
	sub	ax,es:[bx+2h]

l2504_0A65:
	mov	[bp-0Ch],ax
	mov	ax,28BAh
	mov	es,ax
	push	dword ptr es:[0AA80h]
	push	dword ptr [bp-8h]
	mov	bx,[bp-0Eh]
	shl	bx,2h
	lea	ax,[bp-5Eh]
	add	bx,ax
	push	dword ptr ss:[bx]
	push	word ptr [bp-0Ch]
	push	word ptr [bp-0Ah]
	call	far 216Eh:0138h
	add	sp,10h
	mov	ax,28BAh
	mov	es,ax
	push	dword ptr es:[0AA80h]
	mov	bx,[bp-0Eh]
	shl	bx,2h
	lea	ax,[bp-5Eh]
	add	bx,ax
	push	dword ptr ss:[bx]
	push	word ptr [bp-0Ch]
	push	word ptr [bp-0Ah]
	call	far 216Eh:01DCh
	add	sp,0Ch
	mov	ax,[bp+0Eh]
	dec	ax
	cmp	ax,[bp-0Eh]
	jle	0AD4h

l2504_0AC5:
	mov	ax,28BAh
	mov	dx,[bp+12h]
	mov	es,ax
	mov	es:[0A188h],dx
	jmp	0AE3h

l2504_0AD4:
	mov	ax,[bp+12h]
	shl	ax,3h
	mov	dx,28BAh
	mov	es,dx
	mov	es:[0A188h],ax

l2504_0AE3:
	mov	ax,28BAh
	mov	es,ax
	cmp	word ptr es:[0A188h],0h
	jg	0AE3h

l2504_0AF0:
	mov	ax,28BAh
	mov	es,ax
	push	dword ptr es:[0AA80h]
	push	dword ptr [bp-8h]
	push	word ptr [bp-0Ch]
	push	word ptr [bp-0Ah]
	call	far 216Eh:0000h
	add	sp,0Ch
	inc	word ptr [bp-0Eh]

l2504_0B10:
	mov	ax,[bp-0Eh]
	cmp	ax,[bp+0Eh]
	jge	0B1Bh

l2504_0B18:
	jmp	0A23h

l2504_0B1B:
	mov	ax,[bp+0Eh]
	dec	ax
	mov	[bp-0Eh],ax
	jmp	0BF8h

l2504_0B25:
	cmp	word ptr [bp+6h],7Ch
	jge	0B30h

l2504_0B2B:
	mov	ax,[bp+6h]
	jmp	0B44h

l2504_0B30:
	mov	bx,[bp-0Eh]
	shl	bx,2h
	lea	ax,[bp-5Eh]
	add	bx,ax
	les	bx,ss:[bx]
	mov	ax,[bp+6h]
	sub	ax,es:[bx]

l2504_0B44:
	mov	[bp-0Ah],ax
	cmp	word ptr [bp+8h],50h
	jge	0B52h

l2504_0B4D:
	mov	ax,[bp+8h]
	jmp	0B67h

l2504_0B52:
	mov	bx,[bp-0Eh]
	shl	bx,2h
	lea	ax,[bp-5Eh]
	add	bx,ax
	les	bx,ss:[bx]
	mov	ax,[bp+8h]
	sub	ax,es:[bx+2h]

l2504_0B67:
	mov	[bp-0Ch],ax
	mov	ax,28BAh
	mov	es,ax
	push	dword ptr es:[0AA80h]
	push	dword ptr [bp-8h]
	mov	bx,[bp-0Eh]
	shl	bx,2h
	lea	ax,[bp-5Eh]
	add	bx,ax
	push	dword ptr ss:[bx]
	push	word ptr [bp-0Ch]
	push	word ptr [bp-0Ah]
	call	far 216Eh:0138h
	add	sp,10h
	mov	ax,28BAh
	mov	es,ax
	push	dword ptr es:[0AA80h]
	mov	bx,[bp-0Eh]
	shl	bx,2h
	lea	ax,[bp-5Eh]
	add	bx,ax
	push	dword ptr ss:[bx]
	push	word ptr [bp-0Ch]
	push	word ptr [bp-0Ah]
	call	far 216Eh:01DCh
	add	sp,0Ch
	mov	ax,28BAh
	mov	dx,[bp+12h]
	mov	es,ax
	mov	es:[0A188h],dx

l2504_0BCB:
	mov	ax,28BAh
	mov	es,ax
	cmp	word ptr es:[0A188h],0h
	jg	0BCBh

l2504_0BD8:
	mov	ax,28BAh
	mov	es,ax
	push	dword ptr es:[0AA80h]
	push	dword ptr [bp-8h]
	push	word ptr [bp-0Ch]
	push	word ptr [bp-0Ah]
	call	far 216Eh:0000h
	add	sp,0Ch
	dec	word ptr [bp-0Eh]

l2504_0BF8:
	cmp	word ptr [bp-0Eh],0h
	jl	0C01h

l2504_0BFE:
	jmp	0B25h

l2504_0C01:
	cli
	call	far 2425h:0286h
	sti
	leave
	retf
2504:0C0A                               C8 96 00 00 56 66           ....Vf
2504:0C10 C7 46 FC 00 00 00 00 66 C7 46 F4 00 00 00 00 66 .F.....f.F.....f
2504:0C20 C7 46 EC 00 00 00 00 B8 BA 28 8E C0 66 26 A1 7E .F.......(..f&.~
2504:0C30 A1 66 89 46 E8 66 C7 46 E4 00 00 00 00 66 C7 46 .f.F.f.F.....f.F
2504:0C40 E0 00 00 00 00 FA 9A E8 01 25 24 B8 BA 28 8E C0 .........%$..(..
2504:0C50 66 26 C7 06 2C 30 00 00 00 00 FB 9A 0A 00 76 24 f&..,0........v$
2504:0C60 B8 BA 28 8E C0 26 C7 06 02 84 00 00 9A F9 00 6D ..(..&.........m
2504:0C70 22 6A 00 9A 56 06 6D 22 59 9A A0 00 F8 23 9A 7F "j..V.m"Y....#..
2504:0C80 05 6D 22 9A 67 01 31 23 0B C2 75 F7 C4 5E 06 26 .m".g.1#..u..^.&
2504:0C90 83 7F 04 00 74 0B FF 76 08 53 9A AE 02 10 1D EB ....t..v.S......
2504:0CA0 18 C4 5E 06 66 26 83 7F 15 00 74 10 66 26 FF 77 ..^.f&....t.f&.w
2504:0CB0 15 26 C4 5F 15 26 FF 5F 1B 83 C4 04 0E E8 97 F5 .&._.&._........
2504:0CC0 81 7E 08 BA 28 75 07 81 7E 06 36 61 74 1C 81 7E .~..(u..~.6at..~
2504:0CD0 08 BA 28 75 07 81 7E 06 29 50 74 0E 81 7E 08 BA ..(u..~.)Pt..~..
2504:0CE0 28 75 5F 81 7E 06 E2 4E 75 58 9A 67 01 31 23 0B (u_.~..NuX.g.1#.
2504:0CF0 C2 75 F7 16 8D 46 D8 50 1E 68 9B 89 16 8D 46 DC .u...F.P.h....F.
2504:0D00 50 1E 68 90 89 9A 3E 03 3F 26 83 C4 10 FA 9A E8 P.h...>.?&......
2504:0D10 01 25 24 B8 BA 28 8E C0 66 26 FF 36 80 AA 66 FF .%$..(..f&.6..f.
2504:0D20 76 DC 66 68 24 00 3C 00 9A DC 01 6E 21 83 C4 0C v.fh$.<....n!...
2504:0D30 9A 86 02 25 24 FB 66 FF 76 DC 9A 24 1C 00 08 83 ...%$.f.v..$....
2504:0D40 C4 04 C4 5E 06 66 26 83 7F 0C 00 75 03 E9 4A 01 ...^.f&....u..J.
2504:0D50 66 26 8B 47 0C 66 89 46 F0 66 6A 20 9A 38 1D 00 f&.G.f.F.fj .8..
2504:0D60 08 83 C4 04 89 56 FE 89 46 FC 0B C2 75 0C 1E 68 .....V..F...u..h
2504:0D70 A2 89 9A B6 04 3F 26 83 C4 04 66 8B 46 FC 66 89 .....?&...f.F.f.
2504:0D80 46 F8 66 89 46 F4 66 C7 46 E0 01 00 00 00 E9 FF F.f.F.f.F.......
2504:0D90 00 C4 5E F0 26 8B 47 04 C4 5E F8 26 89 07 06 C4 ..^.&.G..^.&....
2504:0DA0 76 F0 26 8B 04 07 26 89 47 02 C4 5E F0 26 8B 47 v.&...&.G..^.&.G
2504:0DB0 06 C4 5E F8 26 89 47 04 C4 5E F0 26 8B 47 02 C4 ..^.&.G..^.&.G..
2504:0DC0 5E F8 26 89 47 06 26 C7 47 0A BA 28 26 C7 47 08 ^.&.G.&.G..(&.G.
2504:0DD0 F2 A8 26 C7 47 0E 04 25 26 C7 47 0C 83 02 26 C7 ..&.G..%&.G...&.
2504:0DE0 47 12 04 25 26 C7 47 10 47 00 26 C7 47 16 04 25 G..%&.G.G.&.G..%
2504:0DF0 26 C7 47 14 47 00 66 8B 46 EC 66 26 89 47 18 66 &.G.G.f.F.f&.G.f
2504:0E00 26 C7 47 1C 00 00 00 00 C4 5E F0 26 8A 47 0C 24 &.G......^.&.G.$
2504:0E10 0F 8B 5E EC 88 87 5A A8 8B 5E F0 26 8B 47 0C C1 ..^...Z..^.&.G..
2504:0E20 E8 04 24 0F 8B 5E EC 88 87 64 A8 8B 5E F0 26 8B ..$..^...d..^.&.
2504:0E30 47 0C C1 E8 08 24 FF B4 00 66 8B 5E EC D1 E3 89 G....$...f.^....
2504:0E40 87 6E A8 66 FF 46 EC 8B 5E F0 66 26 8B 47 08 66 .n.f.F..^.f&.G.f
2504:0E50 89 46 F0 66 83 7E F0 00 74 36 66 6A 20 9A 38 1D .F.f.~..t6fj .8.
2504:0E60 00 08 83 C4 04 C4 5E F8 26 89 57 1E 26 89 47 1C ......^.&.W.&.G.
2504:0E70 0B C2 75 0C 1E 68 A2 89 9A B6 04 3F 26 83 C4 04 ..u..h.....?&...
2504:0E80 C4 5E F8 66 26 8B 47 1C 66 89 46 F8 66 FF 46 E0 .^.f&.G.f.F.f.F.
2504:0E90 66 83 7E F0 00 74 03 E9 F7 FE 81 7E 08 BA 28 75 f.~..t.....~..(u
2504:0EA0 2E 81 7E 06 7E 76 75 27 8D 86 6A FF 16 50 1E 68 ..~.~vu'..j..P.h
2504:0EB0 04 89 B9 20 00 9A F4 03 00 08 66 83 7E FC 00 74 ... ......f.~..t
2504:0EC0 08 66 8B 46 FC 66 89 46 86 8D 86 6A FF EB 33 81 .f.F.f.F...j..3.
2504:0ED0 7E 08 BA 28 75 32 81 7E 06 9A 5E 75 2B 8D 86 6A ~..(u2.~..^u+..j
2504:0EE0 FF 16 50 1E 68 24 89 B9 20 00 9A F4 03 00 08 66 ..P.h$.. ......f
2504:0EF0 83 7E FC 00 74 08 66 8B 46 FC 66 89 46 86 8D 86 .~..t.f.F.f.F...
2504:0F00 6A FF 8C 56 FE 89 46 FC 66 83 7E FC 00 74 0B 66 j..V..F.f.~..t.f
2504:0F10 6A 00 6A 01 66 FF 76 FC EB 08 66 6A 00 6A 01 66 j.j.f.v...fj.j.f
2504:0F20 6A 00 6A 01 6A 01 6A 01 6A 01 6A 01 9A 04 00 53 j.j.j.j.j.j....S
2504:0F30 23 83 C4 14 B8 62 28 8E C0 26 80 0E 00 00 20 FA #....b(..&.... .
2504:0F40 9A 86 02 25 24 FB 9A 67 01 31 23 89 56 E6 89 46 ...%$..g.1#.V..F
2504:0F50 E4 0B C2 74 F1 C4 5E E4 26 8A 07 B4 00 89 46 D6 ...t..^.&.....F.
2504:0F60 B9 0F 00 BB 7C 13 2E 8B 07 3B 46 D6 74 08 83 C3 ....|....;F.t...
2504:0F70 02 E2 F3 E9 80 03 2E FF 67 1E 66 6A 00 6A 03 9A ........g.fj.j..
2504:0F80 BA 00 31 23 83 C4 06 66 6A 00 6A 05 9A BA 00 31 ..1#...fj.j....1
2504:0F90 23 83 C4 06 E9 88 03 66 6A 00 C4 5E E4 26 8A 07 #......fj..^.&..
2504:0FA0 50 EB E9 6A 00 1E 68 BB 89 9A D2 08 9F 20 83 C4 P..j..h...... ..
2504:0FB0 06 1E 68 C5 89 16 8D 46 8A 50 9A E6 3D 00 08 83 ..h....F.P..=...
2504:0FC0 C4 08 66 68 06 00 02 00 6A 05 16 8D 46 8A 50 B8 ..fh....j...F.P.
2504:0FD0 BA 28 8E C0 26 FF 36 26 A5 8E C0 26 FF 36 24 A5 .(..&.6&...&.6$.
2504:0FE0 0E E8 69 F9 83 C4 0E B8 BA 28 8E C0 26 80 3E 22 ..i......(..&.>"
2504:0FF0 A4 01 74 F3 E9 FF 02 6A 00 1E 68 D1 89 9A D2 08 ..t....j..h.....
2504:1000 9F 20 83 C4 06 1E 68 DD 89 16 8D 46 8A 50 9A E6 . ....h....F.P..
2504:1010 3D 00 08 83 C4 08 66 68 05 00 02 00 6A 05 16 8D =.....fh....j...
2504:1020 46 8A 50 B8 BA 28 8E C0 26 FF 36 26 A5 8E C0 26 F.P..(..&.6&...&
2504:1030 FF 36 24 A5 0E E8 15 F9 83 C4 0E B8 BA 28 8E C0 .6$..........(..
2504:1040 26 80 3E 22 A4 01 74 F3 E9 AB 02 6A 00 1E 68 E8 &.>"..t....j..h.
2504:1050 89 9A D2 08 9F 20 83 C4 06 1E 68 F2 89 16 8D 46 ..... ....h....F
2504:1060 8A 50 9A E6 3D 00 08 83 C4 08 66 68 03 00 02 00 .P..=.....fh....
2504:1070 6A 05 16 8D 46 8A 50 B8 BA 28 8E C0 26 FF 36 26 j...F.P..(..&.6&
2504:1080 A5 8E C0 26 FF 36 24 A5 0E E8 C1 F8 83 C4 0E B8 ...&.6$.........
2504:1090 BA 28 8E C0 26 80 3E 22 A4 01 74 F3 E9 57 02 6A .(..&.>"..t..W.j
2504:10A0 00 1E 68 FB 89 9A D2 08 9F 20 83 C4 06 1E 68 07 ..h...... ....h.
2504:10B0 8A 16 8D 46 8A 50 9A E6 3D 00 08 83 C4 08 66 68 ...F.P..=.....fh
2504:10C0 04 00 02 00 6A 05 16 8D 46 8A 50 B8 BA 28 8E C0 ....j...F.P..(..
2504:10D0 26 FF 36 26 A5 8E C0 26 FF 36 24 A5 0E E8 6D F8 &.6&...&.6$...m.
2504:10E0 83 C4 0E B8 BA 28 8E C0 26 80 3E 22 A4 01 74 F3 .....(..&.>"..t.
2504:10F0 E9 03 02 6A 00 1E 68 11 8A 9A D2 08 9F 20 83 C4 ...j..h...... ..
2504:1100 06 1E 68 19 8A 16 8D 46 8A 50 9A E6 3D 00 08 83 ..h....F.P..=...
2504:1110 C4 08 66 68 04 00 02 00 6A 05 16 8D 46 8A 50 B8 ..fh....j...F.P.
2504:1120 BA 28 8E C0 26 FF 36 26 A5 8E C0 26 FF 36 24 A5 .(..&.6&...&.6$.
2504:1130 0E E8 19 F8 83 C4 0E B8 BA 28 8E C0 26 80 3E 22 .........(..&.>"
2504:1140 A4 01 74 F3 E9 AF 01 6A 01 1E 68 23 8A 9A D2 08 ..t....j..h#....
2504:1150 9F 20 83 C4 06 E9 9E 01 9A F9 00 6D 22 66 83 7E . .........m"f.~
2504:1160 FC 00 74 1B 66 6A 00 6A 01 66 FF 76 FC EB 18 EB ..t.fj.j.f.v....
2504:1170 0E 9A A0 00 F8 23 66 83 7E FC 00 74 02 EB E5 66 .....#f.~..t...f
2504:1180 6A 00 6A 01 66 6A 00 6A 01 6A 01 6A 01 6A 01 6A j.j.fj.j.j.j.j.j
2504:1190 01 9A 04 00 53 23 83 C4 14 E9 5A 01 16 8D 46 EC ....S#....Z...F.
2504:11A0 50 1E 68 3A 8A 16 8D 46 D2 50 1E 68 2E 8A 9A 3E P.h:...F.P.h...>
2504:11B0 03 3F 26 83 C4 10 FA 9A E8 01 25 24 FB B8 BA 28 .?&.......%$...(
2504:11C0 8E C0 66 26 FF 36 80 AA 66 FF 76 D2 66 68 99 00 ..f&.6..f.v.fh..
2504:11D0 3D 00 9A 00 00 6E 21 83 C4 0C FA 9A 86 02 25 24 =....n!.......%$
2504:11E0 FB 1E 68 45 8A 9A E3 02 9F 20 83 C4 04 89 56 D0 ..hE..... ....V.
2504:11F0 89 46 CE 52 50 9A 32 06 9F 20 83 C4 04 B8 BA 28 .F.RP.2.. .....(
2504:1200 8E C0 26 80 3E 22 A4 01 74 F3 C4 5E CE 66 26 FF ..&.>"..t..^.f&.
2504:1210 77 02 9A 24 1C 00 08 83 C4 04 66 FF 76 CE 9A 24 w..$......f.v..$
2504:1220 1C 00 08 83 C4 04 66 FF 76 D2 9A 24 1C 00 08 83 ......f.v..$....
2504:1230 C4 04 66 6A 00 6A 04 E9 52 FD 16 8D 46 EC 50 1E ..fj.j..R...F.P.
2504:1240 68 3A 8A 16 8D 46 CA 50 1E 68 50 8A 9A 3E 03 3F h:...F.P.hP..>.?
2504:1250 26 83 C4 10 1E 68 5B 8A 9A E3 02 9F 20 83 C4 04 &....h[..... ...
2504:1260 89 56 C8 89 46 C6 52 50 9A 32 06 9F 20 83 C4 04 .V..F.RP.2.. ...
2504:1270 B8 BA 28 8E C0 26 80 3E 22 A4 01 74 F3 FA 9A E8 ..(..&.>"..t....
2504:1280 01 25 24 B8 BA 28 8E C0 66 26 FF 36 80 AA 66 FF .%$..(..f&.6..f.
2504:1290 76 CA 66 68 23 00 43 00 9A 00 00 6E 21 83 C4 0C v.fh#.C....n!...
2504:12A0 B8 BA 28 8E C0 66 26 83 2E 7E A1 0A 8E C0 66 26 ..(..f&..~....f&
2504:12B0 83 3E 7E A1 00 7D 0C 8E C0 66 26 C7 06 7E A1 00 .>~..}...f&..~..
2504:12C0 00 00 00 9A 7F 05 6D 22 66 FF 76 CA 9A 24 1C 00 ......m"f.v..$..
2504:12D0 08 83 C4 04 C4 5E C6 66 26 FF 77 02 9A 24 1C 00 .....^.f&.w..$..
2504:12E0 08 83 C4 04 66 FF 76 C6 9A 24 1C 00 08 83 C4 04 ....f.v..$......
2504:12F0 9A 86 02 25 24 FB B8 BA 28 8E C0 66 26 A1 7E A1 ...%$...(..f&.~.
2504:1300 66 3B 46 E8 75 03 E9 3D FC B8 BA 28 8E C0 66 26 f;F.u..=...(..f&
2504:1310 A1 7E A1 66 89 46 E8 9A 7F 05 6D 22 E9 27 FC FA .~.f.F....m".'..
2504:1320 9A E8 01 25 24 FB 66 8B 46 F4 66 89 46 FC EB 24 ...%$.f.F.f.F..$
2504:1330 C4 5E FC 66 26 8B 47 1C 66 89 46 F8 FF 76 FE 53 .^.f&.G.f.F..v.S
2504:1340 9A 12 03 00 08 83 C4 04 66 8B 46 F8 66 89 46 FC ........f.F.f.F.
2504:1350 66 FF 4E E0 66 83 7E E0 00 75 D5 B8 BA 28 8E C0 f.N.f.~..u...(..
2504:1360 66 26 C7 06 2C 30 00 00 00 00 B8 62 28 8E C0 26 f&..,0.....b(..&
2504:1370 80 26 00 00 DF 33 D2 33 C0 5E C9 CB 01 00 03 00 .&...3.3.^......
2504:1380 04 00 05 00 07 00 10 00 15 00 16 00 C8 00 C9 00 ................
2504:1390 CA 00 CB 00 CC 00 CD 00 CE 00 97 0F 7A 0F 97 0F ............z...
2504:13A0 97 0F A3 0F 97 0F 58 11 71 11 F7 0F 4B 10 9F 10 ......X.q...K...
